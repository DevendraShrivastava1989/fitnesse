Goal of the Test Case:
-This test is to verify that Asset Managment fee value is correct on PDP

Steps:
1.Login to Production.
2.Go to PDP for any property.
3.Verify that Asset Managment fee value is correct on PDP.

!path C:\Users\Administrator\OneDrive\target\test-classes\
!path C:\Users\Administrator\OneDrive\target\classes\

|Import           |
|fitnesse_HU      |
|fitnesse.fixtures|

|Library       |
|string fixture|
|mathoperations|
|investorportal|

!| script          |investorportal                                                        |
|loginto           |demo@homeunion.com  |stg    |123456                        |
|click             |PROPERTY SEARCH                                                       |
|wait              |10                  |seconds                                          |
|note              |Click on 1st property                                                 |
|click             |xpath=//table[@id="search-results"]/tbody/tr/td[1]/div[1]/div[2]/div/p|
|wait              |5                   |seconds                                          |
|click             |Financial Details                                                     |
|wait              |3                   |seconds                                          |
|scroll to         |${CASHFLOW}                                                           |
|click             |DETAILED CALCULATIONS                                                 |
|wait              |2                   |seconds                                          |
|$HOAPresent=      |value of        |xpath=.//*[@id='fin-details']/angular-app/div/financials-section/div[2]/div[2]/div[1]/div/table/tbody/tr[5]/td[2]                                              |
|$AMlocator =      |getAMFeelocator     |$HOAPresent                                      |
|$listprice =      |value of            |${PDP_Header_ListPrice}                          |
|$listprice=       |replace all         |[$,]              |in  |$listprice       |with | |
|$AMFeePercent =   |GetAMFeePercentage  |$listprice                                       |
|$netrentalincome =|value of            |${Year1_TotalIncome}                             |
|$netrentalincome= |replace all         |[$,]              |in  |$netrentalincome |with | |
|$AMFee=           |value of            |$AMlocator                        |
|$AMFee=           |replace all         |[-,$]             |in  |$AMFee           |with | |
|$ExpectedAMFee =  |multiply            |$netrentalincome  |    |$AMFeePercent            |
|$ExpectedAMFee =  |divide              |$ExpectedAMFee    |    |12                       |
|$ExpectedAMFee =  |convertdoubletoint  |$ExpectedAMFee                                   |
|check             |echo                |$AMFee            |$ExpectedAMFee                |
|note|verify asset managment value for year 2|
|$netrentalincomeYear2 =|value of            |	xpath=.//*[@id='overlay-Annual']/td[3]    |
|$netrentalincomeYear2= |replace all         |[$,]              |in  |$netrentalincomeYear2 |with | |
|$ExpectedAMFeeYear2 =  |multiply              |$netrentalincomeYear2    |    |$AMFeePercent        |
|$ExpectedAMFeeYear2 =  |convertdoubletoint  |$ExpectedAMFeeYear2                                   |
|$AMFeeYear2=           |value of            |xpath=//table[@id="tabAnnualReturns"]/tbody/tr[13]/td[3]|
|$AMFeeYear2=           |replace all         |[-,$]             |in  |$AMFeeYear2           |with | |
|check             |echo                |$AMFeeYear2             |$ExpectedAMFeeYear2               |
|note|verify asset managment value for year 3|
|$netrentalincomeYear3 =|value of            |	xpath=.//*[@id='overlay-Annual']/td[4]              |
|$netrentalincomeYear3= |replace all         |[$,]              |in  |$netrentalincomeYear3 |with | |
|$ExpectedAMFeeYear3 =  |multiply              |$netrentalincomeYear3    |    |$AMFeePercent        |
|$ExpectedAMFeeYear3 =  |convertdoubletoint  |$ExpectedAMFeeYear3                                   |
|$AMFeeYear3=           |value of            |xpath=//table[@id="tabAnnualReturns"]/tbody/tr[13]/td[4]|
|$AMFeeYear3=           |replace all         |[-,$]             |in  |$AMFeeYear3           |with | |
|check             |echo                |$AMFeeYear3            |$ExpectedAMFeeYear3                |
|note|verify asset managment value for year 10|
|$netrentalincomeYear10 =|value of            |	xpath=.//*[@id='overlay-Annual']/td[5]              |
|$netrentalincomeYear10= |replace all         |[$,]              |in  |$netrentalincomeYear10 |with | |
|$ExpectedAMFeeYear10 =  |multiply              |$netrentalincomeYear10    |    |$AMFeePercent        |
|$ExpectedAMFeeYear10 =  |convertdoubletoint  |$ExpectedAMFeeYear10                                   |
|$AMFeeYear10=           |value of            |xpath=//table[@id="tabAnnualReturns"]/tbody/tr[13]/td[5]                        |
|$AMFeeYear10=           |replace all         |[-,$]             |in  |$AMFeeYear10           |with | |
|check             |echo                |$AMFeeYear10            |$ExpectedAMFeeYear10                |
|note|verify asset managment value for year 15|
|$netrentalincomeYear15 =|value of            |	xpath=.//*[@id='overlay-Annual']/td[6]                |
|$netrentalincomeYear15= |replace all         |[$,]              |in  |$netrentalincomeYear15 |with | |
|$ExpectedAMFeeYear15 =  |multiply              |$netrentalincomeYear15    |    |$AMFeePercent        |
|$ExpectedAMFeeYear15 =  |convertdoubletoint  |$ExpectedAMFeeYear15                                   |
|$AMFeeYear15=           |value of            |xpath=//table[@id="tabAnnualReturns"]/tbody/tr[13]/td[6]                        |
|$AMFeeYear15=           |replace all         |[-,$]             |in  |$AMFeeYear15           |with | |
|check             |echo                |$AMFeeYear15            |$ExpectedAMFeeYear15                |
|note|verify asset managment value for year 30|
|$netrentalincomeYear30 =|value of            |	xpath=.//*[@id='overlay-Annual']/td[7]                |
|$netrentalincomeYear30= |replace all         |[$,]              |in  |$netrentalincomeYear30 |with | |
|$ExpectedAMFeeYear30 =  |multiply              |$netrentalincomeYear30    |    |$AMFeePercent        |
|$ExpectedAMFeeYear30 =  |convertdoubletoint  |$ExpectedAMFeeYear30                                   |
|$AMFeeYear30=           |value of            |xpath=//table[@id="tabAnnualReturns"]/tbody/tr[13]/td[7]                        |
|$AMFeeYear30=           |replace all         |[-,$]             |in  |$AMFeeYear30           |with | |
|check             |echo                |$AMFeeYear30            |$ExpectedAMFeeYear30                |



#| note | Verify Cash Flow Text is present |
#| check|value of| xpath=//div[@id="propDetailHeaderDesktop"]/div[1]/div[4]/div/section/p/a/b|CASH FLOW|


